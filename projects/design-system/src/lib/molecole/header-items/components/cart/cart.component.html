<div class="cart" (click)="openOverlay(op, $event)">
    <span class="pi pi-shopping-cart"></span>
    <span>Carrello</span>
    <span *ngIf="rows.length > 0"><p-badge [value]="rows.length.toString()" severity="danger"></p-badge></span>
</div>

<p-overlayPanel #op>
    <ng-template pTemplate="content">
        <div class="container">
            <div class="row">
                <ng-template [ngTemplateOutlet]="externalHeader ? externalHeader : internalHeader">
                </ng-template>
            </div>
            <div *ngFor="let row of rows; let i = index">
                <ng-template [ngTemplateOutlet]="externalBody ? externalBody : internalBody"
                    [ngTemplateOutletContext]="{data:row, i:i}">
                </ng-template>
            </div>
        </div>
    </ng-template>
</p-overlayPanel>

<ng-template #internalHeader>
    <lib-button [size]="'small'" [label]="'Richiedi consultazione'" [type]="'primary'"></lib-button>
</ng-template>
<ng-template #internalBody let-data="data" let-i="i">
    {{data.id}} / {{data.title}}
    <lib-button [size]="'small'" [label]="'Richiedi consultazione'" [type]="'primary'"></lib-button>
</ng-template>